{"version":3,"file":"index.382a61ee.js","sources":["../../hooks/useDocumentEvent.ts","../../components/Backdrop/styled.tsx","../../components/Backdrop/index.tsx"],"sourcesContent":["import React from \"react\";\n\nexport const useDocumentEvent = <K extends keyof DocumentEventMap>(\n  eventType: K,\n  callback: (e: DocumentEventMap[K]) => void\n) => {\n  React.useEffect(() => {\n    document.addEventListener(eventType, callback);\n\n    return () => {\n      document.removeEventListener(eventType, callback);\n    };\n  }, []);\n};\n","import styled from \"styled-components\";\nimport { motion } from \"framer-motion\";\n\nexport const BackdropWrapper = styled(motion.div)`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  max-height: 100vh;\n  box-sizing: border-box;\n  /* padding-top: 60pt; */\n\n  z-index: 10;\n\n  background: rgba(255, 255, 255, 0.8);\n\n  /* display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  flex-direction: column;\n\n  justify-content: flex-end; */\n\n  backdrop-filter: blur(2px);\n  -webkit-backdrop-filter: blur(2px);\n`;\n","import ReactDOM from \"react-dom\";\nimport React from \"react\";\nimport { AnimatePresence } from \"framer-motion\";\n\nimport { useDocumentEvent } from \"../../hooks/useDocumentEvent\";\nimport { BackdropWrapper } from \"./styled\";\n\nexport type FlyoutProps = React.PropsWithChildren<{\n  open: boolean;\n  handleClose(): any;\n  className?: string;\n}>;\n\nexport const Backdrop = (props: FlyoutProps) => {\n  const wrapperRef = React.useRef(null);\n\n  const handleFlyoutClose = React.useCallback(() => {\n    props.handleClose();\n  }, []);\n\n  const handleWrapperClick = React.useCallback((e: React.MouseEvent) => {\n    if (e.target === wrapperRef.current) {\n      handleFlyoutClose();\n    }\n  }, []);\n\n  useDocumentEvent(\"keydown\", (e) => {\n    if (e.key === \"Escape\") {\n      handleFlyoutClose();\n    }\n  });\n\n  return ReactDOM.createPortal(\n    <AnimatePresence>\n      {props.open && (\n        <BackdropWrapper\n          className={props.className}\n          ref={wrapperRef}\n          onClick={handleWrapperClick}\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          exit={{ opacity: 0 }}\n        >\n          {props.children}\n        </BackdropWrapper>\n      )}\n    </AnimatePresence>,\n    document.body\n  );\n};\n"],"names":["useDocumentEvent","eventType","callback","React","BackdropWrapper","styled","motion","Backdrop","props","wrapperRef","handleFlyoutClose","handleWrapperClick","e","ReactDOM","jsx","AnimatePresence"],"mappings":"6OAEa,MAAAA,EAAmB,CAC9BC,EACAC,IACG,CACHC,EAAM,UAAU,KACL,SAAA,iBAAiBF,EAAWC,CAAQ,EAEtC,IAAM,CACF,SAAA,oBAAoBD,EAAWC,CAAQ,CAAA,GAEjD,CAAE,CAAA,CACP,ECVOE,EAAAC,EAAAC,EAAA,GAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gn/BCUA,MAAAC,EAAAC,GAAA,CACL,MAAAC,EAAAN,EAAA,OAAA,IAAA,EAEAO,EAAAP,EAAA,YAAA,IAAA,CACEK,EAAA,YAAA,CAAkB,EAAA,CAAA,CAAA,EAGpBG,EAAAR,EAAA,YAAAS,GAAA,CACEA,EAAA,SAAAH,EAAA,SACEC,GACF,EAAA,CAAA,CAAA,EAGF,OAAAV,EAAA,UAAAY,GAAA,CACEA,EAAA,MAAA,UACEF,GACF,CAAA,EAGFG,EAAA,aAAgBC,EAAAC,EAAA,CAAA,SAAAP,EAAA,MAAAM,EAGVV,EAAC,CAAA,UAAAI,EAAA,UACkB,IAAAC,EACZ,QAAAE,EACI,QAAA,CAAA,QAAA,CAAA,EACa,QAAA,CAAA,QAAA,CAAA,EACA,KAAA,CAAA,QAAA,CAAA,EACH,SAAAH,EAAA,QAEZ,CAAA,EAAA,EAGb,SAAA,IACS,CAEb"}